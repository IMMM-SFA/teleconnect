<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>What the Package Does (Title Case) • teleconnect</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="What the Package Does (Title Case)">
<meta property="og:description" content="More about what it does (maybe more than one line)
    Use four spaces when indenting paragraphs within the Description.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">teleconnect</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/supported-datasets.html">supported-datasets</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div id="gamut" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#gamut" class="anchor"></a><code>gamut</code>
</h1></div>
<div id="geospatial-analytics-for-multisector-urban-teleconnections" class="section level4">
<h4 class="hasAnchor">
<a href="#geospatial-analytics-for-multisector-urban-teleconnections" class="anchor"></a><strong>G</strong>eospatial <strong>A</strong>nalytics for <strong>M</strong>ultisector <strong>U</strong>rban <strong>T</strong>eleconnections</h4>
</div>
<div id="description" class="section level2">
<h2 class="hasAnchor">
<a href="#description" class="anchor"></a>Description</h2>
<p><code>gamut</code> is a tool for exploring <em>teleconnections</em> between cities of the United States and human activities that occur in their associated water supply catchments. A <em>teleconnection</em> is a causal connection or correlation between human and environmental phenomena that occur a long distance apart.</p>
<p><img src="README_files/figure-gfm/unnamed-chunk-1-1.png"><!-- --></p>
</div>
<div id="get-started-with-gamut" class="section level2">
<h2 class="hasAnchor">
<a href="#get-started-with-gamut" class="anchor"></a>Get Started with <code>gamut</code>
</h2>
<p><code>gamut</code> can be installed directly from this repository using the R <code>devtools</code> package. From an R prompt, run the command:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">'IMMM-SFA/gamut'</span><span class="op">)</span></code></pre></div>
<div id="data-directory-set-up" class="section level5">
<h5 class="hasAnchor">
<a href="#data-directory-set-up" class="anchor"></a>Data Directory Set Up</h5>
<p>In order for the package to function properly, the user needs to correctly set up a data directory, and place all of the necessary datasets in that directory. The steps below show how to set up the directory so that the package can read in the input datasets correctly.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>Step <span class="dv">1</span><span class="op">:</span><span class="st"> </span>In a drive of your choice, create a folder called <span class="st">"data_dir"</span>.</span>
<span id="cb2-2"><a href="#cb2-2"></a>Step <span class="dv">2</span><span class="op">:</span><span class="st"> </span>Within the <span class="st">"data_dir"</span> folder, create the <span class="dv">3</span> folders<span class="op">:</span><span class="st"> "energy"</span>,<span class="st">"land"</span>,<span class="st">"water"</span>. </span>
<span id="cb2-3"><a href="#cb2-3"></a>        Follow this set up<span class="op">:</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="st">        </span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="st">        </span>Main Folder<span class="op">:</span><span class="st"> </span>data_dir</span>
<span id="cb2-6"><a href="#cb2-6"></a>              Sub Folder<span class="op">:</span><span class="st"> </span>energy</span>
<span id="cb2-7"><a href="#cb2-7"></a>              Sub Folder<span class="op">:</span><span class="st"> </span>land</span>
<span id="cb2-8"><a href="#cb2-8"></a>              Sub Folder<span class="op">:</span><span class="st"> </span>water</span>
<span id="cb2-9"><a href="#cb2-9"></a></span>
<span id="cb2-10"><a href="#cb2-10"></a>Step <span class="dv">3</span><span class="op">:</span><span class="st"> </span>Follow the instructions <span class="cf">in</span> the <span class="st">"Data Downloading Instructions"</span> section below to download the datasets. The             table below shows where to find each dataset, and what folder it needs to go in.</span></code></pre></div>
<table class="table">
<colgroup>
<col width="7%">
<col width="8%">
<col width="37%">
<col width="46%">
</colgroup>
<thead><tr class="header">
<th align="left">Teleconnect Name</th>
<th align="left">Sub Folder Location</th>
<th align="left">Full File Path</th>
<th align="left">Data Location</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">watersheds</td>
<td align="left">water</td>
<td align="left">water/CWM_v2_2/World_Watershed8.shp</td>
<td align="left"><a href="https://knb.ecoinformatics.org/view/doi%3A10.5063%2FF1J67DWR" class="uri">https://knb.ecoinformatics.org/view/doi%3A10.5063%2FF1J67DWR</a></td>
</tr>
<tr class="even">
<td align="left">withdrawal</td>
<td align="left">water</td>
<td align="left">water/CWM_v2_2/Snapped_Withdrawal_Points.shp</td>
<td align="left"><a href="https://knb.ecoinformatics.org/view/doi%3A10.5063%2FF1J67DWR" class="uri">https://knb.ecoinformatics.org/view/doi%3A10.5063%2FF1J67DWR</a></td>
</tr>
<tr class="odd">
<td align="left">citypoint</td>
<td align="left">water</td>
<td align="left">water/CWM_v2_2/City_Centroid.shp</td>
<td align="left"><a href="https://knb.ecoinformatics.org/view/doi%3A10.5063%2FF1J67DWR" class="uri">https://knb.ecoinformatics.org/view/doi%3A10.5063%2FF1J67DWR</a></td>
</tr>
<tr class="even">
<td align="left">powerplants</td>
<td align="left">water</td>
<td align="left">water/UCS-EW3-Energy-Water-Database.xlsx</td>
<td align="left"><a href="https://www.ucsusa.org/resources/ucs-ew3-energy-water-database" class="uri">https://www.ucsusa.org/resources/ucs-ew3-energy-water-database</a></td>
</tr>
<tr class="odd">
<td align="left">crop</td>
<td align="left">land</td>
<td align="left">land/2016_90m_cdls/cdl_lowres_usa.img</td>
<td align="left"><a href="https://www.nass.usda.gov/Research_and_Science/Cropland/Release/" class="uri">https://www.nass.usda.gov/Research_and_Science/Cropland/Release/</a></td>
</tr>
<tr class="even">
<td align="left">crop_attributes</td>
<td align="left">land</td>
<td align="left">land/2016_90m_cdls/cdl_lowres_usa.img.vat.dbf</td>
<td align="left"><a href="https://www.nass.usda.gov/Research_and_Science/Cropland/Release/" class="uri">https://www.nass.usda.gov/Research_and_Science/Cropland/Release/</a></td>
</tr>
<tr class="odd">
<td align="left">irrigation</td>
<td align="left">land</td>
<td align="left">land/Version2_USA_Demeter.csv</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">nlud</td>
<td align="left">land</td>
<td align="left">land/usa_nlud_LR.tif</td>
<td align="left"><a href="https://drive.google.com/file/d/1vmNfwjcaLf0sZTYJ1wsB3liG37sN8gyC/view" class="uri">https://drive.google.com/file/d/1vmNfwjcaLf0sZTYJ1wsB3liG37sN8gyC/view</a></td>
</tr>
<tr class="odd">
<td align="left">hydro</td>
<td align="left">energy</td>
<td align="left">energy/EHA_Public_PlantFY2019_GIS_6/ORNL_EHAHydroPlant_PublicFY2019final.xlsx</td>
<td align="left"><a href="https://hydrosource.ornl.gov/node/250" class="uri">https://hydrosource.ornl.gov/node/250</a></td>
</tr>
<tr class="even">
<td align="left">transfers</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">climate</td>
<td align="left">land</td>
<td align="left">land/kop_climate_classes.tif</td>
<td align="left"><a href="http://koeppen-geiger.vu-wien.ac.at/present.htm" class="uri">http://koeppen-geiger.vu-wien.ac.at/present.htm</a></td>
</tr>
<tr class="even">
<td align="left">HUC4</td>
<td align="left">water</td>
<td align="left">water/USA_HUC4/huc4_to_huc2.shp</td>
<td align="left"><a href="http://prd-tnm.s3-website-us-west-2.amazonaws.com/?prefix=StagedProducts/Hydrography/WBD/National/GDB/" class="uri">http://prd-tnm.s3-website-us-west-2.amazonaws.com/?prefix=StagedProducts/Hydrography/WBD/National/GDB/</a></td>
</tr>
<tr class="odd">
<td align="left">population</td>
<td align="left">land</td>
<td align="left">land/pden2010_block/pden2010_60m.tif</td>
<td align="left"><a href="https://www.sciencebase.gov/catalog/item/57753ebee4b07dd077c70868" class="uri">https://www.sciencebase.gov/catalog/item/57753ebee4b07dd077c70868</a></td>
</tr>
<tr class="even">
<td align="left">runoff</td>
<td align="left">water</td>
<td align="left">water/Historical_Mean_Runoff/USA_Mean_Runoff.tif</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">nhd_flow</td>
<td align="left">water</td>
<td align="left">water/Watershed_Flow_Contributions/UWB_Intake_Flows.shp</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">contributions</td>
<td align="left">water</td>
<td align="left">water/Watershed_Flow_Contributions/Watershed_Contributions.csv</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
</div>
<div id="data-downloading-instructions" class="section level5">
<h5 class="hasAnchor">
<a href="#data-downloading-instructions" class="anchor"></a>Data Downloading Instructions</h5>
<p>Below are instructions on how to download each dataset and prepare them for the package.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="st">`</span><span class="dt">watersheds</span><span class="st">`</span>,<span class="st">`</span><span class="dt">withdrawal</span><span class="st">`</span>,<span class="st">`</span><span class="dt">citypoint</span><span class="st">`</span> datasets<span class="op">:</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="st">  </span><span class="fl">1.</span> Follow the link <span class="cf">in</span> the table above and click the Download button across from <span class="st">"CWM_v2_2.zip"</span>.</span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="fl">2.</span> This will download a data file named <span class="st">`</span><span class="dt">knb.1002.1</span><span class="st">`</span>. Right click and unzip this folder. Go inside the unzipped file, copy the folder named <span class="st">"CWM_v2_2.zip"</span>, and place it into the <span class="st">`</span><span class="dt">water</span><span class="st">`</span> folder.</span>
<span id="cb3-4"><a href="#cb3-4"></a>  </span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="st">`</span><span class="dt">powerplants</span><span class="st">`</span> dataset<span class="op">:</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="st">  </span><span class="fl">1.</span> Follow the link <span class="cf">in</span> the table above and download the Excel file at the bottom of the page.</span>
<span id="cb3-7"><a href="#cb3-7"></a>  <span class="fl">2.</span> After it downloads, place it into the <span class="st">`</span><span class="dt">water</span><span class="st">`</span> folder.</span>
<span id="cb3-8"><a href="#cb3-8"></a>  </span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="st">`</span><span class="dt">crop</span><span class="st">`</span> and <span class="st">`</span><span class="dt">crop_attributes</span><span class="st">`</span> datasets<span class="op">:</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="st">  </span><span class="fl">1.</span> Follow the link <span class="cf">in</span> the table above and download the zipped <span class="dv">2019</span> CDL file.</span>
<span id="cb3-11"><a href="#cb3-11"></a>  <span class="fl">2.</span> This layer requires some processing before it can <span class="cf">function</span> properly <span class="cf">in</span> the package. In order <span class="cf">for</span> the package to run this data, the file size needs to be decreased. We do this by changing the resolution from 30m cells to <span class="dv">90</span> meter cells.</span>
<span id="cb3-12"><a href="#cb3-12"></a>  <span class="fl">3.</span> Open up ArcGIS and load <span class="cf">in</span> the CDL file. Run this file through the <span class="st">"Resample"</span> <span class="cf">function</span>, and set the cell size to <span class="dv">90</span> meters by <span class="dv">90</span> meters.</span>
<span id="cb3-13"><a href="#cb3-13"></a>  <span class="fl">4.</span> Once the output is created, run the output through the <span class="st">"Project Raster"</span> <span class="cf">function</span>, and change the projection to <span class="st">`</span><span class="dt">GCS_WGS_1984</span><span class="st">`</span>.</span>
<span id="cb3-14"><a href="#cb3-14"></a>  <span class="fl">5.</span> Export the output of this <span class="cf">function</span> to <span class="st">`</span><span class="dt">land</span><span class="st">`</span> folder under the file name of <span class="st">`</span><span class="dt">cdl_lowres_usa</span><span class="st">`</span>, and set the file type to an IMAGINE image file. This will also produce the <span class="st">`</span><span class="dt">crop_attributes</span><span class="st">`</span> file. </span>
<span id="cb3-15"><a href="#cb3-15"></a>  </span>
<span id="cb3-16"><a href="#cb3-16"></a>  <span class="st">`</span><span class="dt">nlud</span><span class="st">`</span> dataset<span class="op">:</span></span>
<span id="cb3-17"><a href="#cb3-17"></a><span class="st">  </span><span class="dv">1</span><span class="op">:</span><span class="st"> </span>Download the zip file from the google drive listed <span class="cf">in</span> the table above. </span>
<span id="cb3-18"><a href="#cb3-18"></a>  <span class="dv">2</span><span class="op">:</span><span class="st"> </span>Unzip the file, and the remove the TIFs listed <span class="kw">below</span> (these are empty)<span class="op">:</span></span>
<span id="cb3-19"><a href="#cb3-19"></a><span class="st">      </span><span class="op">-</span><span class="st"> </span>NLUDv1_<span class="dv">2010</span>_30m<span class="dv">-0000000000</span><span class="fl">-0000000000.</span>tif</span>
<span id="cb3-20"><a href="#cb3-20"></a>      <span class="op">-</span><span class="st"> </span>NLUDv1_<span class="dv">2010</span>_30m<span class="dv">-0000093184</span><span class="fl">-0000232960.</span>tif</span>
<span id="cb3-21"><a href="#cb3-21"></a>      <span class="op">-</span><span class="st"> </span>NLUDv1_<span class="dv">2010</span>_30m<span class="dv">-0000093184</span><span class="fl">-0000000000.</span>tif</span>
<span id="cb3-22"><a href="#cb3-22"></a>      <span class="op">-</span><span class="st"> </span>NLUDv1_<span class="dv">2010</span>_30m<span class="dv">-0000046592</span><span class="fl">-0000232960.</span>tif</span>
<span id="cb3-23"><a href="#cb3-23"></a>      <span class="op">-</span><span class="st"> </span>NLUDv1_<span class="dv">2010</span>_30m<span class="dv">-0000046592</span><span class="fl">-0000000000.</span>tif</span>
<span id="cb3-24"><a href="#cb3-24"></a>      <span class="op">-</span><span class="st"> </span>NLUDv1_<span class="dv">2010</span>_30m<span class="dv">-0000000000</span><span class="fl">-0000232960.</span>tif</span>
<span id="cb3-25"><a href="#cb3-25"></a>  <span class="dv">3</span><span class="op">:</span><span class="st"> </span>Change the resolution of these rasters to 90m by 90m, and then mosaic them together. Save the mosaic file to the file path <span class="cf">in</span> the table.</span>
<span id="cb3-26"><a href="#cb3-26"></a>  </span>
<span id="cb3-27"><a href="#cb3-27"></a>  <span class="st">`</span><span class="dt">hyrdo</span><span class="st">`</span> dataset<span class="op">:</span></span>
<span id="cb3-28"><a href="#cb3-28"></a><span class="st">  </span><span class="fl">1.</span> Follow the link <span class="cf">in</span> the table above and click the download button <span class="cf">for</span> the ORNL EHAHydroPlant <span class="kw">FY2020revised</span> (xlsx).</span>
<span id="cb3-29"><a href="#cb3-29"></a>  <span class="fl">2.</span> After downloading place it into the <span class="st">`</span><span class="dt">energy</span><span class="st">`</span> folder.</span>
<span id="cb3-30"><a href="#cb3-30"></a>  </span>
<span id="cb3-31"><a href="#cb3-31"></a>  <span class="st">`</span><span class="dt">climate</span><span class="st">`</span> dataset<span class="op">:</span></span>
<span id="cb3-32"><a href="#cb3-32"></a><span class="st">  </span><span class="fl">1.</span> Follow the link <span class="cf">in</span> the table above and scroll to the High Resolution Map and Data section.</span>
<span id="cb3-33"><a href="#cb3-33"></a>  <span class="fl">2.</span> Click the download link <span class="cf">next</span> to R code with raster file.</span>
<span id="cb3-34"><a href="#cb3-34"></a>  <span class="fl">3.</span> Crop this raster file to the shape of the Continental United States, and save it as a new TIF file <span class="cf">in</span> the <span class="st">`</span><span class="dt">land</span><span class="st">`</span> folder under the name <span class="st">"koppen_climate_classes.tif"</span>.</span>
<span id="cb3-35"><a href="#cb3-35"></a>  </span>
<span id="cb3-36"><a href="#cb3-36"></a>  <span class="st">`</span><span class="dt">population</span><span class="st">`</span> dataset<span class="op">:</span></span>
<span id="cb3-37"><a href="#cb3-37"></a><span class="st">  </span><span class="fl">1.</span> Follow the link <span class="cf">in</span> the table above and download the attached file named <span class="st">"pden2010_block.zip"</span>. Place this file into the <span class="st">`</span><span class="dt">land</span><span class="st">`</span> folder.</span>
<span id="cb3-38"><a href="#cb3-38"></a>  <span class="fl">2.</span> This raster will also need to be cropped to the shape of the Continental United States.</span></code></pre></div>
</div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>Once all the necessary data is organized in the correct format, the package is ready to be used. The main function is <code>count_watershed_teleconnections</code>. Within this function, set up your data directory and select cities. The city names need to be in the format of <code>City | State</code>, and for multiple cities, place them inside <code><a href="https://rdrr.io/r/base/c.html">c()</a></code>.</p>
<p>Here is an example of what you would type into your console:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/count_watershed_teleconnections.html">count_watershed_teleconnections</a></span><span class="op">(</span>data_dir <span class="op">=</span> <span class="st">"your/gamut/data_dir"</span>, cities <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Portland | OR"</span>, <span class="st">"Charlotte | NC"</span>, <span class="st">"Austin | TX"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>The package will cycle through each city and their respective watersheds, and produce a table with several columns of information. To learn what each of these variables mean, scroll to the bottom of this section and see the table of variables. The result of this function will look something like this:</p>
<table class="table">
<colgroup>
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="0%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="3%">
<col width="1%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="3%">
</colgroup>
<thead><tr class="header">
<th align="left">city</th>
<th align="right">city_population</th>
<th align="right">n_watersheds</th>
<th align="right">n_other_cities</th>
<th align="right">dependent_city_pop</th>
<th align="right">watershed_area_sqkm</th>
<th align="right">storage_BCM</th>
<th align="right">yield_BCM</th>
<th align="right">irr_cons_BCM</th>
<th align="right">n_climate_zones</th>
<th align="right">n_transfers_in</th>
<th align="right">n_transfers_out</th>
<th align="right">n_transfers_within</th>
<th align="right">n_hydro_plants</th>
<th align="right">n_thermal_plants</th>
<th align="right">n_fac_agcrop</th>
<th align="right">n_fac_aglivestock</th>
<th align="right">n_fac_cnsmnf</th>
<th align="right">n_fac_mining</th>
<th align="right">n_fac_oilgas</th>
<th align="right">n_fac_total</th>
<th align="right">hydro_gen_MWh</th>
<th align="right">thermal_gen_MWh</th>
<th align="right">thermal_cons_BCM</th>
<th align="right">thermal_with_BCM</th>
<th align="right">n_utilities</th>
<th align="right">n_ba</th>
<th align="right">n_crop_classes</th>
<th align="right">cropland_fraction</th>
<th align="right">developed_fraction</th>
<th align="right">ag_runoff_max</th>
<th align="right">ag_runoff_av_exgw</th>
<th align="right">ag_runoff_av</th>
<th align="right">dev_runoff_max</th>
<th align="right">dev_runoff_av_exgw</th>
<th align="right">dev_runoff_av</th>
<th align="right">np_runoff_max</th>
<th align="right">np_runoff_av_exgw</th>
<th align="right">np_runoff_av_exgw_unweighted</th>
<th align="right">np_runoff_av</th>
<th align="right">n_economic_sectors</th>
<th align="right">max_withdr_dist_km</th>
<th align="right">avg_withdr_dis_km</th>
<th align="right">n_treatment_plants</th>
<th align="right">watershed_pop</th>
<th align="right">pop_cons_m3sec</th>
<th align="right">av_fl_sur_conc_pct</th>
<th align="right">av_fl_sur_conc_pct_unweighted</th>
<th align="right">av_ro_sur_conc_pct</th>
<th align="right">av_fl_all_conc_pct</th>
<th align="right">av_ro_all_conc_pct</th>
<th align="right">av_fl_max_conc_pct</th>
<th align="right">av_ro_max_conc_pct</th>
<th align="right">surface_contribution_pct</th>
<th align="right">importance_of_worst_watershed_pct</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Portland, OR</td>
<td align="right">653115</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">653115</td>
<td align="right">280.7526</td>
<td align="right">0.0970009</td>
<td align="right">0.3154655</td>
<td align="right">0.0000000</td>
<td align="right">4</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">55263.24</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">0.0000000</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">0.0044529</td>
<td align="right">0.000000</td>
<td align="right">0.000000</td>
<td align="right">0.000000</td>
<td align="right">0.0000172</td>
<td align="right">0.0000172</td>
<td align="right">0.0000172</td>
<td align="right">0.0000172</td>
<td align="right">0.0000172</td>
<td align="right">0.0000172</td>
<td align="right">0.0000172</td>
<td align="right">4</td>
<td align="right">40.923236</td>
<td align="right">40.923236</td>
<td align="right">0</td>
<td align="right">1.963243e+01</td>
<td align="right">0.0000454</td>
<td align="right">0.000000</td>
<td align="right">0.000000</td>
<td align="right">0.000000</td>
<td align="right">0.000000</td>
<td align="right">0.000000</td>
<td align="right">0.000000</td>
<td align="right">0.000000</td>
<td align="right">100</td>
<td align="right">100</td>
</tr>
<tr class="even">
<td align="left">Knoxville, TN</td>
<td align="right">187500</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">159230</td>
<td align="right">23196.0276</td>
<td align="right">5.1667173</td>
<td align="right">0.8121560</td>
<td align="right">0.0132724</td>
<td align="right">3</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">13</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">7</td>
<td align="right">149</td>
<td align="right">20</td>
<td align="right">0</td>
<td align="right">569</td>
<td align="right">1633153.23</td>
<td align="right">8595014</td>
<td align="right">0.0105083</td>
<td align="right">0.9841422</td>
<td align="right">4</td>
<td align="right">4</td>
<td align="right">7</td>
<td align="right">0.0392887</td>
<td align="right">0.1217025</td>
<td align="right">0.001735</td>
<td align="right">0.001735</td>
<td align="right">0.001735</td>
<td align="right">0.0187317</td>
<td align="right">0.0187317</td>
<td align="right">0.0187317</td>
<td align="right">0.0204667</td>
<td align="right">0.0204667</td>
<td align="right">0.0204667</td>
<td align="right">0.0204667</td>
<td align="right">13</td>
<td align="right">5.942854</td>
<td align="right">5.942854</td>
<td align="right">0</td>
<td align="right">1.559519e+06</td>
<td align="right">3.6100047</td>
<td align="right">1.442118</td>
<td align="right">1.442118</td>
<td align="right">1.727607</td>
<td align="right">1.442118</td>
<td align="right">1.727607</td>
<td align="right">1.442118</td>
<td align="right">1.727607</td>
<td align="right">100</td>
<td align="right">100</td>
</tr>
</tbody>
</table>
<p>This table can be used to compare different variables between multiple cities. Below is a graph comparing how much developed land are in cities’ watersheds.</p>
<p><img src="README_files/figure-gfm/unnamed-chunk-5-1.png"><!-- --></p>
<p><code>gamut</code> also has very basic functionality for visualizing watersheds and associated land uses for a given city watersheds. For example:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/plot_watershed.html">plot_watershed</a></span><span class="op">(</span>data_dir <span class="op">=</span> <span class="st">"your/gamut/data_dir"</span>, city <span class="op">=</span> <span class="st">"New York | NY"</span><span class="op">)</span></code></pre></div>
<p><img src="README_files/figure-gfm/unnamed-chunk-6-1.png"><!-- --></p>
<p>The table below shows explanations for each of these variables that are created through this function:</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="60%">
<col width="14%">
</colgroup>
<thead><tr class="header">
<th align="left">Variable Name</th>
<th align="left">Description</th>
<th align="left">Units</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">city_population</td>
<td align="left">The population of the city being analyzed</td>
<td align="left">people</td>
</tr>
<tr class="even">
<td align="left">n_watersheds</td>
<td align="left">Number of watersheds that city uses to source drinking water</td>
<td align="left">watersheds</td>
</tr>
<tr class="odd">
<td align="left">n_other_cities</td>
<td align="left">Number of other cities pulling off the same watersheds</td>
<td align="left">cities</td>
</tr>
<tr class="even">
<td align="left">dependent_city_pop</td>
<td align="left">Total population of people dependent on that city’s watersheds</td>
<td align="left">people</td>
</tr>
<tr class="odd">
<td align="left">watershed_area_sqkm</td>
<td align="left">Combined area of all the source watersheds of a city</td>
<td align="left">square kilometers</td>
</tr>
<tr class="even">
<td align="left">storage_BCM</td>
<td align="left">Combined storage capacity of all the city catchments</td>
<td align="left">billion cubic meters</td>
</tr>
<tr class="odd">
<td align="left">yield_BCM</td>
<td align="left">Combined yield capacity of all the city catchments</td>
<td align="left">billion cubic meters</td>
</tr>
<tr class="even">
<td align="left">irr_cons_BCM</td>
<td align="left">Combined water consumption that is used for irrigation with the watersheds</td>
<td align="left">billion cubic meters</td>
</tr>
<tr class="odd">
<td align="left">n_climate_zones</td>
<td align="left">Number of climate zones that the source watersheds cover</td>
<td align="left">zones</td>
</tr>
<tr class="even">
<td align="left">n_transfers_in</td>
<td align="left">Number of interbasin transfers that flow into the source watersheds</td>
<td align="left">transfers</td>
</tr>
<tr class="odd">
<td align="left">n_transfers_out</td>
<td align="left">Number of interbasin transfers that flow out of the source watersheds</td>
<td align="left">transfers</td>
</tr>
<tr class="even">
<td align="left">n_transfers_within</td>
<td align="left">Number of water transfers that occur within the source watersheds</td>
<td align="left">transfers</td>
</tr>
<tr class="odd">
<td align="left">n_hydro_plants</td>
<td align="left">Number of hydro electric power plants operating within the source watersheds</td>
<td align="left">plants</td>
</tr>
<tr class="even">
<td align="left">n_thermal_plants</td>
<td align="left">Number of thermal power plants operating within the source watersheds</td>
<td align="left">plants</td>
</tr>
<tr class="odd">
<td align="left">n_fac_agcrop</td>
<td align="left">Number of agricultural crop facilities within the source watersheds</td>
<td align="left">facilities</td>
</tr>
<tr class="even">
<td align="left">n_fac_aglivestock</td>
<td align="left">Number of agicultural livestock facilities within the source watersheds</td>
<td align="left">facilities</td>
</tr>
<tr class="odd">
<td align="left">n_fac_cnsmnf</td>
<td align="left">Number of construction and manufacturing facilities within the source watersheds</td>
<td align="left">facilities</td>
</tr>
<tr class="even">
<td align="left">n_fac_mining</td>
<td align="left">Number of mining facilities within the source watersheds</td>
<td align="left">facilities</td>
</tr>
<tr class="odd">
<td align="left">n_fac_oilgas</td>
<td align="left">Number of oil and gas facilities within the source watersheds</td>
<td align="left">facilities</td>
</tr>
<tr class="even">
<td align="left">n_fac_total</td>
<td align="left">Total number of facilities operating within the source watersheds</td>
<td align="left">facilities</td>
</tr>
<tr class="odd">
<td align="left">hydro_gen_MWh</td>
<td align="left">Combined hydro electric generation from all the facilities within the source watersheds</td>
<td align="left">Megawatthours</td>
</tr>
<tr class="even">
<td align="left">thermal_gen_MWh</td>
<td align="left">Combined thermal generation from all the facilities within the source watersheds</td>
<td align="left">Megawatthours</td>
</tr>
<tr class="odd">
<td align="left">thermal_cons_BCM</td>
<td align="left">Combined water consumption that is used for thermal generation</td>
<td align="left">billion cubic meters</td>
</tr>
<tr class="even">
<td align="left">thermal_with_BCM</td>
<td align="left">Combined water withdrawal for thermal generation</td>
<td align="left">billion cubic meters</td>
</tr>
<tr class="odd">
<td align="left">n_utilities</td>
<td align="left">Number of electric utilities within the source watersheds</td>
<td align="left">utilities</td>
</tr>
<tr class="even">
<td align="left">n_ba</td>
<td align="left">Number of balancing authorities within the source watersheds</td>
<td align="left">balancing authorities</td>
</tr>
<tr class="odd">
<td align="left">n_crop_classes</td>
<td align="left">Total number of different types of crops within the source watersheds</td>
<td align="left">crops</td>
</tr>
<tr class="even">
<td align="left">cropland_fraction</td>
<td align="left">Fraction of land that is used for crops within the source watersheds</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">developed_fraction</td>
<td align="left">Fraction of land that is developed within the source watersheds</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">ag_runoff_max</td>
<td align="left">Max amount of agricultural runoff within the source watersheds</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">ag_runoff_av_exgw</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">ag_runoff_av</td>
<td align="left">Average runoff from agricultural lands</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">dev_runof_max</td>
<td align="left">Max amount of agricultural runoff within the source watersheds</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">dev_runof_av_exgw</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">dev_runof_av</td>
<td align="left">Average runoff from developed lands</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">np_runoff_max</td>
<td align="left">Max amount of non-point source runoff within the source watersheds</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">np_runoff_av_exgw</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">np_runoff_av_exgw_unweighted</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">np_runoff_av</td>
<td align="left">Average non-point source runoff.</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">n_economic_sectors</td>
<td align="left">Total number of different economic sectors within the source watersheds</td>
<td align="left">sectors</td>
</tr>
<tr class="odd">
<td align="left">max_withdr_dis_km</td>
<td align="left">Maximum distance between a city’s intake points</td>
<td align="left">kilometers</td>
</tr>
<tr class="even">
<td align="left">avg_withdr_dis_km</td>
<td align="left">Average distance between a city’s intake points</td>
<td align="left">kilometers</td>
</tr>
<tr class="odd">
<td align="left">n_treatment_plants</td>
<td align="left">Total number of waste water treatment plants operating within the source watersheds</td>
<td align="left">plants</td>
</tr>
<tr class="even">
<td align="left">watershed_pop</td>
<td align="left">Total number of people living within the source watershed boundaries</td>
<td align="left">people</td>
</tr>
<tr class="odd">
<td align="left">pop_cons_m3sec</td>
<td align="left">Combined water consumption from the source watersheds that is used for people</td>
<td align="left">m3/sec</td>
</tr>
<tr class="even">
<td align="left">av_fl_sur_conc_pct</td>
<td align="left"></td>
<td align="left">%</td>
</tr>
<tr class="odd">
<td align="left">av_fl_sur_conc_pct_unweighted</td>
<td align="left"></td>
<td align="left">%</td>
</tr>
<tr class="even">
<td align="left">av_ro_sur_conc_pct</td>
<td align="left"></td>
<td align="left">%</td>
</tr>
<tr class="odd">
<td align="left">av_fl_all_conc_pct</td>
<td align="left"></td>
<td align="left">%</td>
</tr>
<tr class="even">
<td align="left">av_ro_all_conc_pct</td>
<td align="left"></td>
<td align="left">%</td>
</tr>
<tr class="odd">
<td align="left">av_fl_max_conc_pct</td>
<td align="left"></td>
<td align="left">%</td>
</tr>
<tr class="even">
<td align="left">av_ro_max_conc_pct</td>
<td align="left"></td>
<td align="left">%</td>
</tr>
<tr class="odd">
<td align="left">surface_contribution_pct</td>
<td align="left"></td>
<td align="left">%</td>
</tr>
<tr class="even">
<td align="left">importance_of_worst_watershed_pct</td>
<td align="left"></td>
<td align="left">%</td>
</tr>
</tbody>
</table>
</div>
<div id="support" class="section level2">
<h2 class="hasAnchor">
<a href="#support" class="anchor"></a>Support</h2>
<p>For any questions about the package, please contact any of the contributors below:</p>
<p>Sean Turner: <a href="mailto:sean.turner@pnnl.gov" class="email">sean.turner@pnnl.gov</a></p>
<p>Kristian Nelson: <a href="mailto:kristian.nelson@pnnl.gov" class="email">kristian.nelson@pnnl.gov</a></p>
<p>Chris Vernon <a href="mailto:chris.vernon@pnnl.gov" class="email">chris.vernon@pnnl.gov</a></p>
</div>
<div id="authors-and-acknowledgement" class="section level2">
<h2 class="hasAnchor">
<a href="#authors-and-acknowledgement" class="anchor"></a>Authors and Acknowledgement</h2>
<p>Authors: Sean Turner, Kristian Nelson, Chris Vernon, Jennie Rice, Casey Burleyson, Ryan McManamay, Kerim Dickson</p>
<p>This research was supported by the US Department of Energy, Office of Science, as part of research in the MultiSector Dynamics, Earth and Environmental System Modeling Program.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/BSD-3-Clause">BSD</a> 2-Clause</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>The package maintainer <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://codecov.io/gh/IMMM-SFA/teleconnect"><img src="https://codecov.io/gh/IMMM-SFA/teleconnect/branch/master/graph/badge.svg?token=uF3EvxwvCO" alt="codecov"></a></li>
<li><a href="https://zenodo.org/badge/latestdoi/203447802"><img src="https://zenodo.org/badge/203447802.svg" alt="DOI"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by The package maintainer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
